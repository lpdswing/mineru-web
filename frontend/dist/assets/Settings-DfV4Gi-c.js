import{a as g,g as i}from"./user-COjPqb4h.js";import{a as k,j as h,o as w,c as y,b as m,f as e,w as s,r,E as b,e as _,i as C,_ as O}from"./index-6mw23_9c.js";const U={class:"settings-root"},S={class:"settings-card"},z=k({__name:"Settings",setup(L){const c={forceOcr:!1,ocrLanguage:"auto",formulaRecognition:!0,tableRecognition:!0},o=h({...c}),f=async()=>{var v,a,u;try{const t=await g.get("/api/settings",{headers:{"X-User-Id":i()}});o.value={forceOcr:t.data.force_ocr,ocrLanguage:t.data.ocr_lang,formulaRecognition:t.data.formula_recognition,tableRecognition:t.data.table_recognition}}catch(t){console.error("加载设置失败:",((v=t.response)==null?void 0:v.data)||t.message),b.error(`加载设置失败: ${((u=(a=t.response)==null?void 0:a.data)==null?void 0:u.detail)||t.message}`)}},p=async()=>{var v,a,u;try{await g.put("/api/settings",{force_ocr:o.value.forceOcr,ocr_lang:o.value.ocrLanguage,formula_recognition:o.value.formulaRecognition,table_recognition:o.value.tableRecognition,user_id:i()},{headers:{"X-User-Id":i()}}),b.success("设置已保存")}catch(t){console.error("保存设置失败:",((v=t.response)==null?void 0:v.data)||t.message),b.error(`保存设置失败: ${((u=(a=t.response)==null?void 0:a.data)==null?void 0:u.detail)||t.message}`)}},V=()=>{o.value={...c},b.info("设置已重置")};return w(()=>{f()}),(v,a)=>{const u=r("el-switch"),t=r("el-form-item"),l=r("el-option"),x=r("el-select"),d=r("el-button"),R=r("el-form");return C(),y("div",U,[m("div",S,[a[6]||(a[6]=m("div",{class:"settings-header"},"系统设置",-1)),e(R,{model:o.value,"label-width":"120px",class:"settings-form"},{default:s(()=>[e(t,{label:"强制开启OCR"},{default:s(()=>[e(u,{modelValue:o.value.forceOcr,"onUpdate:modelValue":a[0]||(a[0]=n=>o.value.forceOcr=n),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(t,{label:"OCR识别语言"},{default:s(()=>[e(x,{modelValue:o.value.ocrLanguage,"onUpdate:modelValue":a[1]||(a[1]=n=>o.value.ocrLanguage=n),class:"settings-select"},{default:s(()=>[e(l,{label:"自动识别",value:"auto"}),e(l,{label:"中文 & 英文",value:"ch"}),e(l,{label:"英语",value:"en"}),e(l,{label:"法语",value:"fr"}),e(l,{label:"德语",value:"german"}),e(l,{label:"日语",value:"japan"}),e(l,{label:"韩语",value:"korean"}),e(l,{label:"繁体中文",value:"chinese_cht"}),e(l,{label:"意大利语",value:"it"}),e(l,{label:"西班牙语",value:"es"}),e(l,{label:"葡萄牙语",value:"pt"}),e(l,{label:"俄语",value:"ru"}),e(l,{label:"乌克兰语",value:"uk"}),e(l,{label:"白俄罗斯语",value:"be"}),e(l,{label:"泰卢固语",value:"te"}),e(l,{label:"梵语",value:"sa"}),e(l,{label:"泰米尔语",value:"ta"}),e(l,{label:"南非荷兰语",value:"af"}),e(l,{label:"阿塞拜疆语",value:"az"}),e(l,{label:"波斯尼亚语",value:"bs"}),e(l,{label:"捷克语",value:"cs"}),e(l,{label:"威尔士语",value:"cy"}),e(l,{label:"丹麦语",value:"da"}),e(l,{label:"马耳他语",value:"mt"}),e(l,{label:"荷兰语",value:"nl"}),e(l,{label:"挪威语",value:"no"}),e(l,{label:"波兰语",value:"pl"}),e(l,{label:"罗马尼亚语",value:"ro"}),e(l,{label:"斯洛伐克语",value:"sk"}),e(l,{label:"斯洛文尼亚语",value:"sl"}),e(l,{label:"阿尔巴尼亚语",value:"sq"}),e(l,{label:"瑞典语",value:"sv"}),e(l,{label:"斯瓦希里语",value:"sw"}),e(l,{label:"他加禄语",value:"tl"}),e(l,{label:"土耳其语",value:"tr"}),e(l,{label:"乌兹别克语",value:"uz"}),e(l,{label:"越南语",value:"vi"}),e(l,{label:"蒙古语",value:"mn"}),e(l,{label:"阿巴扎语",value:"abq"}),e(l,{label:"车臣语",value:"che"}),e(l,{label:"哈里亚纳语",value:"bgc"}),e(l,{label:"阿拉伯语",value:"ar"}),e(l,{label:"印地语",value:"hi"}),e(l,{label:"维吾尔语",value:"ug"}),e(l,{label:"波斯语",value:"fa"}),e(l,{label:"乌尔都语",value:"ur"}),e(l,{label:"塞尔维亚语(拉丁)",value:"rs_latin"}),e(l,{label:"奥克西唐语",value:"oc"}),e(l,{label:"马拉地语",value:"mr"}),e(l,{label:"尼泊尔语",value:"ne"}),e(l,{label:"塞尔维亚语(西里尔)",value:"rs_cyrillic"}),e(l,{label:"保加利亚语",value:"bg"}),e(l,{label:"爱沙尼亚语",value:"et"}),e(l,{label:"爱尔兰语",value:"ga"}),e(l,{label:"克罗地亚语",value:"hr"}),e(l,{label:"匈牙利语",value:"hu"}),e(l,{label:"印度尼西亚语",value:"id"}),e(l,{label:"冰岛语",value:"is"}),e(l,{label:"库尔德语",value:"ku"}),e(l,{label:"立陶宛语",value:"lt"}),e(l,{label:"拉脱维亚语",value:"lv"}),e(l,{label:"毛利语",value:"mi"}),e(l,{label:"马来语",value:"ms"}),e(l,{label:"阿迪格语",value:"ady"}),e(l,{label:"卡巴尔达语",value:"kbd"}),e(l,{label:"阿瓦尔语",value:"ava"}),e(l,{label:"达尔格瓦语",value:"dar"}),e(l,{label:"印古什语",value:"inh"}),e(l,{label:"拉克语",value:"lbe"}),e(l,{label:"列兹金语",value:"lez"}),e(l,{label:"塔巴萨兰语",value:"tab"}),e(l,{label:"比哈尔语",value:"bh"}),e(l,{label:"迈蒂利语",value:"mai"}),e(l,{label:"昂吉卡语",value:"ang"}),e(l,{label:"博杰普里语",value:"bho"}),e(l,{label:"马加伊语",value:"mah"}),e(l,{label:"那格浦尔语",value:"sck"}),e(l,{label:"尼瓦尔语",value:"new"}),e(l,{label:"果阿孔卡尼语",value:"gom"}),e(l,{label:"巴利语",value:"pi"}),e(l,{label:"拉丁语",value:"la"})]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"公式识别"},{default:s(()=>[e(u,{modelValue:o.value.formulaRecognition,"onUpdate:modelValue":a[2]||(a[2]=n=>o.value.formulaRecognition=n),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(t,{label:"表格识别"},{default:s(()=>[e(u,{modelValue:o.value.tableRecognition,"onUpdate:modelValue":a[3]||(a[3]=n=>o.value.tableRecognition=n),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(t,null,{default:s(()=>[e(d,{type:"primary",onClick:p,size:"large"},{default:s(()=>a[4]||(a[4]=[_("保存设置")])),_:1,__:[4]}),e(d,{onClick:V,size:"large"},{default:s(()=>a[5]||(a[5]=[_("重置")])),_:1,__:[5]})]),_:1})]),_:1},8,["model"])])])}}}),E=O(z,[["__scopeId","data-v-4677779b"]]);export{E as default};
