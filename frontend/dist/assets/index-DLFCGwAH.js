import{a as o}from"./utils-TXqgcX9H.js";import{g as n}from"./user-DdPDo_0j.js";import{Y as i}from"./element-plus-4BRiPEl_.js";const a=o.create({baseURL:"/api",timeout:3e4});a.interceptors.request.use(e=>(e.headers["X-User-Id"]||(e.headers["X-User-Id"]=n()),e),e=>Promise.reject(e));a.interceptors.response.use(e=>e,e=>{const s=u(e);return i.error(s),Promise.reject(e)});function u(e){var r;if(!e.response)return e.code==="ECONNABORTED"?"请求超时，请稍后重试":"网络连接失败，请检查网络后重试";const s=e.response.status,t=(r=e.response.data)==null?void 0:r.detail;return t?typeof t=="string"?t:JSON.stringify(t):{400:"请求参数错误",401:"未授权，请重新登录",403:"没有权限访问",404:"请求的资源不存在",500:"服务器错误，请稍后重试",502:"网关错误，请稍后重试",503:"服务暂时不可用，请稍后重试"}[s]||`请求失败 (${s})`}export{a};
