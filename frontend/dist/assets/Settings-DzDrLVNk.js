import{a as m}from"./index-DLFCGwAH.js";import{g as y}from"./user-DdPDo_0j.js";import{p as h,r as O,S as w,y as _,z as p,B as e,C as n,E as r,W as L,V as b,Y as f,H as V}from"./element-plus-4BRiPEl_.js";import{_ as U}from"./index-BdVRlj0D.js";import"./utils-TXqgcX9H.js";const k={getSettings(){return m.get("/settings").then(c=>c.data)},updateSettings(c){return m.put("/settings",c).then(u=>u.data)}},B={class:"settings-root"},N={class:"settings-card"},z={key:0,class:"settings-tip"},E=h({__name:"Settings",setup(c){const u={forceOcr:!1,ocrLanguage:"ch",formulaRecognition:!0,tableRecognition:!0,version:"",backend:"pipeline"},l=O({...u}),R=async()=>{try{const o=await k.getSettings();l.value={forceOcr:o.force_ocr,ocrLanguage:o.ocr_lang,formulaRecognition:o.formula_recognition,tableRecognition:o.table_recognition,version:o.version||"",backend:o.backend||"pipeline"}}catch{}},x=async()=>{try{await k.updateSettings({force_ocr:l.value.forceOcr,ocr_lang:l.value.ocrLanguage,formula_recognition:l.value.formulaRecognition,table_recognition:l.value.tableRecognition,version:l.value.version,backend:l.value.backend,user_id:y()}),f.success("设置已保存")}catch{}},C=()=>{l.value={...u},f.info("设置已重置")};return w(()=>{R()}),(o,a)=>{const d=r("el-switch"),s=r("el-form-item"),t=r("el-option"),v=r("el-select"),g=r("el-button"),S=r("el-form");return V(),_("div",B,[p("div",N,[a[7]||(a[7]=p("div",{class:"settings-header"},"系统设置",-1)),e(S,{model:l.value,"label-width":"120px",class:"settings-form"},{default:n(()=>[e(s,{label:"强制开启OCR"},{default:n(()=>[e(d,{modelValue:l.value.forceOcr,"onUpdate:modelValue":a[0]||(a[0]=i=>l.value.forceOcr=i),"active-text":"开启","inactive-text":"关闭",disabled:l.value.backend!=="pipeline"},null,8,["modelValue","disabled"]),l.value.backend!=="pipeline"?(V(),_("div",z," 只有在Pipeline模式下可以设置强制OCR ")):L("",!0)]),_:1}),e(s,{label:"OCR识别语言"},{default:n(()=>[e(v,{modelValue:l.value.ocrLanguage,"onUpdate:modelValue":a[1]||(a[1]=i=>l.value.ocrLanguage=i),class:"settings-select"},{default:n(()=>[e(t,{label:"中英日繁混合(ch)",value:"ch"}),e(t,{label:"中英日繁混合+手写场景(ch_server)",value:"ch_server"}),e(t,{label:"中英日繁混合+手写场景(ch_lite)",value:"ch_lite"}),e(t,{label:"英语(en)",value:"en"}),e(t,{label:"韩语(korean)",value:"korean"}),e(t,{label:"日语(japan)",value:"japan"}),e(t,{label:"繁体中文(chinese_cht)",value:"chinese_cht"}),e(t,{label:"泰米尔语(ta)",value:"ta"}),e(t,{label:"泰卢固语(te)",value:"te"}),e(t,{label:"格鲁吉亚语(ka)",value:"ka"}),e(t,{label:"拉丁语(latin)",value:"latin"}),e(t,{label:"阿拉伯语(arabic)",value:"arabic"}),e(t,{label:"东斯拉夫语(east_slavic)",value:"east_slavic"}),e(t,{label:"西里尔语(cyrillic)",value:"cyrillic"}),e(t,{label:"天城文(devanagari)",value:"devanagari"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"公式识别"},{default:n(()=>[e(d,{modelValue:l.value.formulaRecognition,"onUpdate:modelValue":a[2]||(a[2]=i=>l.value.formulaRecognition=i),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(s,{label:"表格识别"},{default:n(()=>[e(d,{modelValue:l.value.tableRecognition,"onUpdate:modelValue":a[3]||(a[3]=i=>l.value.tableRecognition=i),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])]),_:1}),e(s,{label:"后端引擎"},{default:n(()=>[e(v,{modelValue:l.value.backend,"onUpdate:modelValue":a[4]||(a[4]=i=>l.value.backend=i),class:"settings-select"},{default:n(()=>[e(t,{label:"Pipeline",value:"pipeline"}),e(t,{label:"VLM HTTP Client",value:"vlm-http-client"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:n(()=>[e(g,{type:"primary",onClick:x,size:"large"},{default:n(()=>a[5]||(a[5]=[b("保存设置")])),_:1,__:[5]}),e(g,{onClick:C,size:"large"},{default:n(()=>a[6]||(a[6]=[b("重置")])),_:1,__:[6]})]),_:1})]),_:1},8,["model"])])])}}}),I=U(E,[["__scopeId","data-v-97eee5d1"]]);export{I as default};
